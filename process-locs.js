(()=>{var l=t=>{let n,e=new Set,o=(s,d)=>{let a=typeof s=="function"?s(n):s;if(!Object.is(a,n)){let _=n;n=d??(typeof a!="object"||a===null)?a:Object.assign({},n,a),e.forEach(I=>I(n,_))}},i=()=>n,c={setState:o,getState:i,getInitialState:()=>p,subscribe:s=>(e.add(s),()=>e.delete(s))},p=n=t(o,i,c);return c},u=t=>t?l(t):l;window.__GLOBAL_DATA_STORE__||(window.__GLOBAL_DATA_STORE__=u((t,n)=>({sites:[],categories:[],watersheds:[],waterbodies:[],organizations:[],states:[],counties:[],towns:[],boudaries:{},query:{},drawnBoundaryType:void 0,drawnBoundaryId:void 0,kdIndex:[],points:[],isBoundariesLoaded:!1,lang:"en",zeroResultsShown:!1,initialized:!1,accessibility:!1,userLocation:void 0,mapStyle:"mapbox://styles/rodonnell-ctriver/cme050tqw018g01qpa23h8jj3",colors:{},setKdIndex:e=>t(()=>({kdIndex:e})),setPoints:e=>t(()=>({points:e})),setUserLocation:e=>t(()=>({userLocation:e})),setSites:e=>t(()=>({sites:e})),setCategories:e=>t(()=>({categories:e})),setQuery:e=>t(()=>({query:e})),setStates:e=>t(()=>({states:e})),setCounties:e=>t(()=>({counties:e})),setTowns:e=>t(()=>({towns:e})),setWaterSheds:e=>t(()=>({watersheds:e})),setWaterBodies:e=>t(()=>({waterbodies:e})),setOrganizations:e=>t(()=>({organizations:e})),setBoundaries:e=>t(()=>({boudaries:e})),setIsBoundariesLoaded:e=>t(()=>({isBoundariesLoaded:e})),setLang:e=>t(()=>({lang:e})),setMapStyle:e=>t(()=>({mapStyle:e})),setInitialized:e=>t(()=>({initialized:e})),setAccessibility:e=>t(()=>({accessibility:e})),setZeroResultsShown:e=>t(()=>({zeroResultsShown:e})),setDrawnBoundaryType:e=>t(()=>({drawnBoundaryType:e})),setDrawnBoundaryId:e=>t(()=>({drawnBoundaryId:e})),setColors:e=>t(()=>({colors:e})),toggleAccessibility:()=>t(e=>({accessibility:!e.accessibility})),getSites:()=>n().sites,getCategories:()=>n().categories,getWaterSheds:()=>n().watersheds,getWaterBodies:()=>n().waterbodies,getColors:()=>n().colors,getStates:()=>n().states,getCounties:()=>n().counties,getTowns:()=>n().towns,getOrganizations:()=>n().organizations,getBoundaries:()=>n().boudaries,getIsBoundariesLoaded:()=>n().isBoundariesLoaded,getLang:()=>n().lang,getQuery:()=>n().query,getZeroResultsShown:()=>n().zeroResultsShown,getInitialized:()=>n().initialized,getAccessibility:()=>n().accessibility,getDrawnBoundaryType:()=>n().drawnBoundaryType,getDrawnBoundaryId:()=>n().drawnBoundaryId,getKdIndex:()=>n().kdIndex,getPoints:()=>n().points,getUserLocation:()=>n().userLocation,getMapStyle:()=>n().mapStyle})));var g=window.__GLOBAL_DATA_STORE__;var{setLang:w}=g.getState(),S="lang",h="/es",b="en";function B(t){return t.startsWith(h)}function A(){try{return localStorage.getItem(S)}catch{return null}}function r(t){try{localStorage.setItem(S,t)}catch{}}function m(){let t=navigator.languages||[navigator.language||b];return t.some(e=>e.toLowerCase().startsWith("es"))&&t.findIndex(e=>e.toLowerCase().startsWith("es"))<t.findIndex(e=>e.toLowerCase().startsWith("en"))}function L(t,n,e){let o=t==="/"?"":t,i=`${window.location.origin}${h}${o}${n}${e}`;window.location.replace(i)}function f(){let{pathname:t,search:n,hash:e}=window.location;if(B(t)){w("es");return}let o=A();if(o==="es"){L(t,n,e);return}o||(m()?(r("es"),L(t,n,e)):r("en")),w("en")}function y(){document.querySelectorAll(".lang_link").forEach(n=>{n.addEventListener("click",C)})}function C(t){let n=t.target.getAttribute("data-lang");n&&r(n)}f();y();})();
