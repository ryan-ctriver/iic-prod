(()=>{var d=e=>{let n,t=new Set,i=(o,l)=>{let s=typeof o=="function"?o(n):o;if(!Object.is(s,n)){let A=n;n=l??(typeof s!="object"||s===null)?s:Object.assign({},n,s),t.forEach(y=>y(n,A))}},a=()=>n,c={setState:i,getState:a,getInitialState:()=>w,subscribe:o=>(t.add(o),()=>t.delete(o))},w=n=e(i,a,c);return c},g=e=>e?d(e):d;window.__GLOBAL_DATA_STORE__||(window.__GLOBAL_DATA_STORE__=g((e,n)=>({sites:[],kdIndex:[],points:[],sitesFiltered:[],organizations:[],lang:"en",initialized:!1,accessibility:!1,userLocMarker:void 0,mapStyle:"mapbox://styles/rodonnell-ctriver/cme050tqw018g01qpa23h8jj3",colors:{},setKdIndex:t=>e(()=>({kdIndex:t})),setPoints:t=>e(()=>({points:t})),setUserLocMarker:t=>e(()=>({userLocMarker:t})),setSites:t=>e(()=>({sites:t})),setSitesFiltered:t=>e(()=>({sitesFiltered:t})),setOrganizations:t=>e(()=>({organizations:t})),setLang:t=>e(()=>({lang:t})),setInitialized:t=>e(()=>({initialized:t})),setAccessibility:t=>e(()=>({accessibility:t})),toggleAccessibility:()=>e(t=>({accessibility:!t.accessibility})),setColors:t=>e(()=>({colors:t})),setMapStyle:t=>e(()=>({mapStyle:t})),getSites:()=>n().sites,getSitesFiltered:()=>n().sitesFiltered,getOrganizations:()=>n().organizations,getLang:()=>n().lang,getColors:()=>n().colors,getInitialized:()=>n().initialized,getAccessibility:()=>n().accessibility,getKdIndex:()=>n().kdIndex,getPoints:()=>n().points,getUserLocMarker:()=>n().userLocMarker,getMapStyle:()=>n().mapStyle})));var u=window.__GLOBAL_DATA_STORE__;var{setLang:L}=u.getState(),f="lang",h="/es",b="en";function m(e){return e.startsWith(h)}function I(){try{return localStorage.getItem(f)}catch{return null}}function r(e){try{localStorage.setItem(f,e)}catch{}}function x(){let e=navigator.languages||[navigator.language||b];return e.some(t=>t.toLowerCase().startsWith("es"))&&e.findIndex(t=>t.toLowerCase().startsWith("es"))<e.findIndex(t=>t.toLowerCase().startsWith("en"))}function S(e,n,t){let i=e==="/"?"":e,a=`${window.location.origin}${h}${i}${n}${t}`;window.location.replace(a)}function p(){let{pathname:e,search:n,hash:t}=window.location;if(m(e)){L("es");return}let i=I();if(i==="es"){S(e,n,t);return}i||(x()?(r("es"),S(e,n,t)):r("en")),L("en")}function _(){document.querySelectorAll(".lang_link").forEach(n=>{addEventListener("click",k)})}function k(e){let n=e.target.getAttribute("data-lang");n&&r(n)}p();_();})();
