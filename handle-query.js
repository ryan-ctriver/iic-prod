(()=>{var g=i=>{let e,t=new Set,s=(a,u)=>{let n=typeof a=="function"?a(e):a;if(!Object.is(n,e)){let S=e;e=u??(typeof n!="object"||n===null)?n:Object.assign({},e,n),t.forEach(b=>b(e,S))}},l=()=>e,c={setState:s,getState:l,getInitialState:()=>w,subscribe:a=>(t.add(a),()=>t.delete(a))},w=e=i(s,l,c);return c},r=i=>i?g(i):g;window.__GLOBAL_DATA_STORE__||(window.__GLOBAL_DATA_STORE__=r((i,e)=>({sites:[],categories:[],watersheds:[],waterbodies:[],organizations:[],states:[],counties:[],towns:[],boudaries:{},query:{},drawnBoundaryType:void 0,kdIndex:[],points:[],isBoundariesLoaded:!1,lang:"en",zeroResultsShown:!1,initialized:!1,accessibility:!1,userLocation:void 0,setKdIndex:t=>i(()=>({kdIndex:t})),setPoints:t=>i(()=>({points:t})),setUserLocation:t=>i(()=>({userLocation:t})),setSites:t=>i(()=>({sites:t})),setCategories:t=>i(()=>({categories:t})),setQuery:t=>i(()=>({query:t})),setStates:t=>i(()=>({states:t})),setCounties:t=>i(()=>({counties:t})),setTowns:t=>i(()=>({towns:t})),setWaterSheds:t=>i(()=>({watersheds:t})),setWaterBodies:t=>i(()=>({waterbodies:t})),setOrganizations:t=>i(()=>({organizations:t})),setBoundaries:t=>i(()=>({boudaries:t})),setIsBoundariesLoaded:t=>i(()=>({isBoundariesLoaded:t})),setLang:t=>i(()=>({lang:t})),setInitialized:t=>i(()=>({initialized:t})),setAccessibility:t=>i(()=>({accessibility:t})),setZeroResultsShown:t=>i(()=>({zeroResultsShown:t})),setDrawnBoundaryType:t=>i(()=>({drawnBoundaryType:t})),toggleAccessibility:()=>i(t=>({accessibility:!t.accessibility})),getSites:()=>e().sites,getCategories:()=>e().categories,getWaterSheds:()=>e().watersheds,getWaterBodies:()=>e().waterbodies,getStates:()=>e().states,getCounties:()=>e().counties,getTowns:()=>e().towns,getOrganizations:()=>e().organizations,getBoundaries:()=>e().boudaries,getIsBoundariesLoaded:()=>e().isBoundariesLoaded,getLang:()=>e().lang,getQuery:()=>e().query,getZeroResultsShown:()=>e().zeroResultsShown,getInitialized:()=>e().initialized,getAccessibility:()=>e().accessibility,getDrawnBoundaryType:()=>e().drawnBoundaryType,getKdIndex:()=>e().kdIndex,getPoints:()=>e().points,getUserLocation:()=>e().userLocation})));var F=window.__GLOBAL_DATA_STORE__;var _={isAdministrative:!0,isOutlook:!0};window.__GLOBAL_TABS_STORE__||(window.__GLOBAL_TABS_STORE__=r((i,e)=>({tabsState:{..._},tabsHandlers:[],isInitialized:!1,setIsAdministrative:t=>i(s=>({tabsState:{...s.tabsState,isAdministrative:t}})),setIsOutlook:t=>i(s=>({tabsState:{...s.tabsState,isOutlook:t}})),pushTabHandler:t=>i(s=>({tabsHandlers:[...s.tabsHandlers,t]})),clearTabsHandlers:()=>i(()=>({tabsHandlers:[]})),setIsInitialized:t=>i(s=>({isInitialized:t})),getIsAdministrative:()=>e().tabsState.isAdministrative,getIsOutlook:()=>e().tabsState.isOutlook,getTabsState:()=>e().tabsState,getTabsHandlers:()=>e().tabsHandlers,getIsInitialized:()=>e().isInitialized})));var f=window.__GLOBAL_TABS_STORE__;var p={state:"",county:"",town:"",watershed:"",waterbody:"",organization:"",category:"",site:"",clean:!1,boating:!1,notClean:!1,month:!1,year:!1,old:!1};window.__GLOBAL_FILTERS_STORE__||(window.__GLOBAL_FILTERS_STORE__=r((i,e)=>({selectedFilters:{...p},selectedInputLevel:void 0,inputHandlers:[],setStateFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,state:t}})),setCountyFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,county:t}})),setTownFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,town:t}})),setWaterShedFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,watershed:t}})),setWaterBodyFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,waterbody:t}})),setOrganizationFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,organization:t}})),setSiteFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,site:t}})),setCleanFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,clean:t}})),setBoatingFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,boating:t}})),setCategoryFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,category:t}})),setNotCleanFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,notClean:t}})),setYearFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,year:t}})),setMonthFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,month:t}})),setOldFilter:t=>i(s=>({selectedFilters:{...s.selectedFilters,old:t}})),setSelectedInputLevel:t=>i(s=>({selectedFilters:s.selectedFilters,selectedInputLevel:t})),pushInputHandler:t=>i(s=>({inputHandlers:[...s.inputHandlers,t]})),clearInputHandlers:()=>i(()=>({inputHandlers:[]})),clearWaterFilters:()=>i(t=>({selectedFilters:{...t.selectedFilters,watershed:"",waterbody:""}})),clearAdminFilters:()=>i(t=>({selectedFilters:{...t.selectedFilters,state:"",county:"",town:""}})),getStateFilter:()=>e().selectedFilters.state,getCountyFilter:()=>e().selectedFilters.county,getTownFilter:()=>e().selectedFilters.town,getWaterShedFilter:()=>e().selectedFilters.watershed,getWaterBodyFilter:()=>e().selectedFilters.waterbody,getOrganizationFilter:()=>e().selectedFilters.organization,getSiteFilter:()=>e().selectedFilters.site,getCategoryFilter:()=>e().selectedFilters.category,getCleanFilter:()=>e().selectedFilters.clean,getBoatingFilter:()=>e().selectedFilters.boating,getNotCleanFilter:()=>e().selectedFilters.notClean,getYearFilter:()=>e().selectedFilters.year,getMonthFilter:()=>e().selectedFilters.month,getSelectedInputLevel:()=>e().selectedInputLevel,getOldFilter:()=>e().selectedFilters.old,getAllFilters:()=>e().selectedFilters,getInputHandlers:()=>e().inputHandlers})));var y=window.__GLOBAL_FILTERS_STORE__;var{getWaterSheds:h,getWaterBodies:m,getOrganizations:L,getSites:O,getStates:I,getCounties:T,getTowns:B,setAccessibility:z,getCategories:A}=F.getState(),{setStateFilter:C,setCountyFilter:v,setTownFilter:R,setWaterShedFilter:E,setWaterBodyFilter:H,setOrganizationFilter:W,setSiteFilter:x,setCleanFilter:q,setBoatingFilter:P,setNotCleanFilter:G,setMonthFilter:D,setYearFilter:k,setOldFilter:Q,setCategoryFilter:U}=y.getState(),{setIsAdministrative:j,setIsOutlook:M}=f.getState(),N={state:C,county:v,town:R,watershed:E,waterbody:H,organization:W,site:x,clean:q,boating:P,"not-clean":G,month:D,year:k,old:Q,administrative:j,quality:M,accessibility:z,category:U};function o(){let i=new URLSearchParams(window.location.search),e={administrative:i.get("administrative")==="true"?!0:i.get("administrative")==="false"?!1:void 0,quality:i.get("quality")==="true"?!0:i.get("quality")==="false"?!1:void 0,watershed:i.get("watershed"),waterbody:i.get("waterbody"),state:i.get("state"),county:i.get("county"),town:i.get("town"),organization:i.get("organization"),site:i.get("site"),category:i.get("category"),clean:i.get("clean")==="true"?!0:i.get("clean")==="false"?!1:void 0,boating:i.get("boating")==="true"?!0:i.get("boating")==="false"?!1:void 0,"not-clean":i.get("not-clean")==="true"?!0:i.get("not-clean")==="false"?!1:void 0,month:i.get("month")==="true"?!0:i.get("month")==="false"?!1:void 0,year:i.get("year")==="true"?!0:i.get("year")==="false"?!1:void 0,old:i.get("old")==="true"?!0:i.get("old")==="false"?!1:void 0,accessibility:i.get("accessibility")==="1"};console.log("Parsed:"),console.log(e);let t=Y(e);Object.values(t).length>0&&Object.entries(t).forEach(([l,d])=>{N[l](d)}),console.log("Validated:"),console.log(t)}function Y(i){let e={...i},t=K();return(!e.watershed||e.watershed&&!t.watersheds.find(s=>s.id===e.watershed))&&delete e.watershed,(!e.category||e.category&&!t.categories.find(s=>s.id===e.category))&&delete e.category,(!e.waterbody||e.waterbody&&!t.waterbodies.find(s=>s.id===e.waterbody))&&delete e.waterbody,(!e.state||e.state&&!t.states.find(s=>s.id===e.state))&&delete e.state,(!e.county||e.county&&!t.counties.find(s=>s.id===e.county))&&delete e.county,(!e.town||e.town&&!t.towns.find(s=>s.id===e.town))&&delete e.town,(!e.organization||e.organization&&!t.organizations.find(s=>s.id===e.organization))&&delete e.organization,(!e.site||e.site&&!t.sites.find(s=>s.id===e.site))&&delete e.site,typeof e.administrative!="boolean"&&delete e.administrative,typeof e.quality!="boolean"&&delete e.quality,typeof e.clean!="boolean"&&delete e.clean,typeof e.boating!="boolean"&&delete e.boating,typeof e["not-clean"]!="boolean"&&delete e["not-clean"],typeof e.month!="boolean"&&delete e.month,typeof e.year!="boolean"&&delete e.year,typeof e.old!="boolean"&&delete e.old,e}function K(){return{states:I(),counties:T(),towns:B(),watersheds:h(),waterbodies:m(),organizations:L(),categories:A(),sites:O()}}window.dataInitialized?o():window.initQueries=o;})();
