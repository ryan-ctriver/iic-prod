(()=>{var d=t=>{let n,e=new Set,s=(i,l)=>{let a=typeof i=="function"?i(n):i;if(!Object.is(a,n)){let b=n;n=l??(typeof a!="object"||a===null)?a:Object.assign({},n,a),e.forEach(p=>p(n,b))}},o=()=>n,c={setState:s,getState:o,getInitialState:()=>y,subscribe:i=>(e.add(i),()=>e.delete(i))},y=n=t(s,o,c);return c},u=t=>t?d(t):d;window.__GLOBAL_DATA_STORE__||(window.__GLOBAL_DATA_STORE__=u((t,n)=>({sites:[],watersheds:[],waterbodies:[],organizations:[],states:[],counties:[],towns:[],boudaries:{},query:{},isBoundariesLoaded:!1,lang:"en",initialized:!1,accessibility:!1,mapStyle:"mapbox://styles/rodonnell-ctriver/cme050tqw018g01qpa23h8jj3",setSites:e=>t(()=>({sites:e})),setQuery:e=>t(()=>({query:e})),setStates:e=>t(()=>({states:e})),setCounties:e=>t(()=>({counties:e})),setTowns:e=>t(()=>({towns:e})),setWaterSheds:e=>t(()=>({watersheds:e})),setWaterBodies:e=>t(()=>({waterbodies:e})),setOrganizations:e=>t(()=>({organizations:e})),setMapStyle:e=>t(()=>({mapStyle:e})),setIsBoundariesLoaded:e=>t(()=>({isBoundariesLoaded:e})),setLang:e=>t(()=>({lang:e})),setInitialized:e=>t(()=>({initialized:e})),setAccessibility:e=>t(()=>({accessibility:e})),toggleAccessibility:()=>t(e=>({accessibility:!e.accessibility})),getSites:()=>n().sites,getWaterSheds:()=>n().watersheds,getWaterBodies:()=>n().waterbodies,getStates:()=>n().states,getCounties:()=>n().counties,getTowns:()=>n().towns,getOrganizations:()=>n().organizations,getBoundaries:()=>n().boudaries,getIsBoundariesLoaded:()=>n().isBoundariesLoaded,getLang:()=>n().lang,getQuery:()=>n().query,getInitialized:()=>n().initialized,getAccessibility:()=>n().accessibility,getMapStyle:()=>n().mapStyle})));var g=window.__GLOBAL_DATA_STORE__;var{setLang:L}=g.getState(),h="lang",f="/es",A="en";function m(t){return t.startsWith(f)}function I(){try{return localStorage.getItem(h)}catch{return null}}function r(t){try{localStorage.setItem(h,t)}catch{}}function z(){let t=navigator.languages||[navigator.language||A];return t.some(e=>e.toLowerCase().startsWith("es"))&&t.findIndex(e=>e.toLowerCase().startsWith("es"))<t.findIndex(e=>e.toLowerCase().startsWith("en"))}function S(t,n,e){let s=t==="/"?"":t,o=`${window.location.origin}${f}${s}${n}${e}`;window.location.replace(o)}function w(){let{pathname:t,search:n,hash:e}=window.location;if(m(t)){L("es");return}let s=I();if(s==="es"){S(t,n,e);return}s||(z()?(r("es"),S(t,n,e)):r("en")),L("en")}function _(){document.querySelectorAll(".lang_link").forEach(n=>{addEventListener("click",O)})}function O(t){let n=t.target.getAttribute("data-lang");n&&r(n)}w();_();})();
