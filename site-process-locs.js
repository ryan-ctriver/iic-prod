(()=>{var l=t=>{let n,e=new Set,a=(s,d)=>{let o=typeof s=="function"?s(n):s;if(!Object.is(o,n)){let p=n;n=d??(typeof o!="object"||o===null)?o:Object.assign({},n,o),e.forEach(D=>D(n,p))}},i=()=>n,c={setState:a,getState:i,getInitialState:()=>A,subscribe:s=>(e.add(s),()=>e.delete(s))},A=n=t(a,i,c);return c},u=t=>t?l(t):l;window.__GLOBAL_DATA_STORE__||(window.__GLOBAL_DATA_STORE__=u((t,n)=>({sites:[],currentSite:{},watersheds:[],waterbodies:[],organizations:[],states:[],counties:[],towns:[],boudaries:{},query:{},dischargeData:[],isBoundariesLoaded:!1,lang:"en",initialized:!1,setSites:e=>t(()=>({sites:e})),setCurrentSite:e=>t(()=>({currentSite:e})),setQuery:e=>t(()=>({query:e})),setStates:e=>t(()=>({states:e})),setCounties:e=>t(()=>({counties:e})),setTowns:e=>t(()=>({towns:e})),setWaterSheds:e=>t(()=>({watersheds:e})),setWaterBodies:e=>t(()=>({waterbodies:e})),setOrganizations:e=>t(()=>({organizations:e})),setBoundaries:e=>t(()=>({boudaries:e})),setIsBoundariesLoaded:e=>t(()=>({isBoundariesLoaded:e})),setLang:e=>t(()=>({lang:e})),setInitialized:e=>t(()=>({initialized:e})),setDischargeData:e=>t(()=>({dischargeData:e})),getSites:()=>n().sites,getWaterSheds:()=>n().watersheds,getWaterBodies:()=>n().waterbodies,getStates:()=>n().states,getCounties:()=>n().counties,getTowns:()=>n().towns,getOrganizations:()=>n().organizations,getBoundaries:()=>n().boudaries,getIsBoundariesLoaded:()=>n().isBoundariesLoaded,getLang:()=>n().lang,getQuery:()=>n().query,getCurrentSite:()=>n().currentSite,getInitialized:()=>n().initialized,getDischargeData:()=>n().dischargeData})));var g=window.__GLOBAL_DATA_STORE__;var{setLang:h}=g.getState(),S="lang",f="/es",I="en";function b(t){return t.startsWith(f)}function m(){try{return localStorage.getItem(S)}catch{return null}}function r(t){try{localStorage.setItem(S,t)}catch{}}function C(){let t=navigator.languages||[navigator.language||I];return t.some(e=>e.toLowerCase().startsWith("es"))&&t.findIndex(e=>e.toLowerCase().startsWith("es"))<t.findIndex(e=>e.toLowerCase().startsWith("en"))}function L(t,n,e){let a=t==="/"?"":t,i=`${window.location.origin}${f}${a}${n}${e}`;window.location.replace(i)}function w(){let{pathname:t,search:n,hash:e}=window.location;if(b(t)){h("es");return}let a=m();if(a==="es"){L(t,n,e);return}a||(C()?(r("es"),L(t,n,e)):r("en")),h("en")}function _(){document.querySelectorAll(".lang_link").forEach(n=>{addEventListener("click",z)})}function z(t){console.log("Hadled");let n=t.target.getAttribute("data-lang");n&&r(n)}w();_();})();
